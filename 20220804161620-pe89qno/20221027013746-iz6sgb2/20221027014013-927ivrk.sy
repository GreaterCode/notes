{
	"ID": "20221027014013-927ivrk",
	"Spec": "1",
	"Type": "NodeDocument",
	"Properties": {
		"id": "20221027014013-927ivrk",
		"scroll": "{\u0026quot;startId\u0026quot;:\u0026quot;20221027014013-uiox7vf\u0026quot;,\u0026quot;endId\u0026quot;:\u0026quot;20221027014013-twpn373\u0026quot;,\u0026quot;scrollTop\u0026quot;:0,\u0026quot;focusId\u0026quot;:\u0026quot;20221027014013-p8a693w\u0026quot;,\u0026quot;focusStart\u0026quot;:0,\u0026quot;focusEnd\u0026quot;:0}",
		"title": "003.OpenShift网络",
		"updated": "20230616181404"
	},
	"Children": [
		{
			"ID": "20221027014013-uiox7vf",
			"Type": "NodeList",
			"ListData": {},
			"Properties": {
				"id": "20221027014013-uiox7vf"
			},
			"Children": [
				{
					"ID": "20221027014013-evuj3gg",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"id": "20221027014013-evuj3gg"
					},
					"Children": [
						{
							"ID": "20221027014013-p8a693w",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221027014013-p8a693w"
							},
							"Children": [
								{
									"Type": "NodeTextMark",
									"TextMarkType": "a",
									"TextMarkAHref": "https://www.cnblogs.com/itzgr/p/13162476.html",
									"TextMarkTextContent": "https://www.cnblogs.com/itzgr/p/13162476.html"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20221027014013-ypnda0q",
			"Type": "NodeThematicBreak",
			"Properties": {
				"id": "20221027014013-ypnda0q"
			}
		},
		{
			"ID": "20221027014013-7dqq2bf",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20221027014013-7dqq2bf"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "一\tOpenShift网络实现"
				}
			]
		},
		{
			"ID": "20221027014013-arww4ap",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221027014013-arww4ap"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "1.1\t软件定义网络(SDN)"
				}
			]
		},
		{
			"ID": "20221027014013-44brtd4",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-44brtd4"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "默认情况下，Docker网络使用仅使用主机虚机网桥bridge，主机内的所有容器都连接至该网桥。连接到此桥的所有容器都可以彼此通信，但不能与不同主机上的容器通信。通常，这种通信使用端口映射来处理，其中容器端口绑定到主机上的端口，所有通信都通过物理主机上的端口路由。"
				}
			]
		},
		{
			"ID": "20221027014013-0esmvxl",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-0esmvxl"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "当有大量主机和容器时，使用此模式，需要手动管理所有端口绑定非常不现实。"
				}
			]
		},
		{
			"ID": "20221027014013-za9ytfi",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-za9ytfi"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "为了支持跨集群的容器之间的通信，OpenShift容器平台使用了软件定义的网络(SDN)方法。软件定义的网络是一种网络模型，它通过几个网络层的抽象来管理网络服务。SDN将处理流量的软件(称为控制平面)和路由流量的底层机制(称为数据平面)解耦。SDN支持控制平面和数据平面之间的通信。"
				}
			]
		},
		{
			"ID": "20221027014013-fatb7i3",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-fatb7i3"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "在OpenShift Container Platform 3.9中（之后简称OCP），管理员可以为pod网络配置三个SDN插件:"
				}
			]
		},
		{
			"ID": "20221027014013-q82hni7",
			"Type": "NodeList",
			"ListData": {
				"Typ": 1
			},
			"Properties": {
				"id": "20221027014013-q82hni7"
			},
			"Children": [
				{
					"ID": "20221027014013-58wj1xn",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "MS4=",
						"Num": 1
					},
					"Properties": {
						"id": "20221027014013-58wj1xn"
					},
					"Children": [
						{
							"ID": "20221027014013-guil97w",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221027014013-guil97w"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "ovs-subnet：默认插件，子网提供了一个flat pod网络，其中每个pod可以与其他pod和service通信。"
								}
							]
						}
					]
				},
				{
					"ID": "20221027014013-83dqawm",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "Mi4=",
						"Num": 2
					},
					"Properties": {
						"id": "20221027014013-83dqawm"
					},
					"Children": [
						{
							"ID": "20221027014013-3behput",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221027014013-3behput"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "ovs-multitenant：该为pod和服务提供了额外的隔离层。当使用此插件时，每个project接收一个惟一的虚拟网络ID (VNID)，该ID标识来自属于该project的pod的流量。通过使用VNID，来自不同project的pod不能与其他project的pod和service通信。"
								}
							]
						}
					]
				},
				{
					"ID": "20221027014013-30bs9x4",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "My4=",
						"Num": 3
					},
					"Properties": {
						"id": "20221027014013-30bs9x4"
					},
					"Children": [
						{
							"ID": "20221027014013-uaqvg92",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221027014013-uaqvg92"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "ovs-networkpolicy：此插件允许管理员使用NetworkPolicy对象定义自己的隔离策略。"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20221027014013-7d03pps",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-7d03pps"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "cluster network由OpenShift SDN建立和维护，它使用Open vSwitch创建overlay网络，master节点不能通过集群网络访问容器，除非master同时也为node节点。"
				}
			]
		},
		{
			"ID": "20221027014013-c6alxff",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-c6alxff"
			},
			"Children": [
				{
					"Type": "NodeTextMark",
					"TextMarkType": "strong",
					"TextMarkTextContent": "注意：VNID为0的project可以与所有其他pod通信，在OpenShift容器平台中，默认项目的VNID为0。"
				}
			]
		},
		{
			"ID": "20221027014013-er10znv",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221027014013-er10znv"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "1.2\tKubernetes SDN Pod"
				}
			]
		},
		{
			"ID": "20221027014013-dqv92dd",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-dqv92dd"
			},
			"Children": [
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "kubernetes basic networking_v1"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "https://img2020.cnblogs.com/blog/680719/202006/680719-20200619125859521-97765992.png"
						},
						{
							"Type": "NodeLinkSpace"
						},
						{
							"Type": "NodeLinkTitle",
							"Data": "kubernetes basic networking_v1"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "https://img2020.cnblogs.com/blog/680719/202006/680719-20200619125859259-799254202.png",
					"TextMarkTextContent": "https://img2020.cnblogs.com/blog/680719/202006/680719-20200619125859259-799254202.png"
				}
			]
		},
		{
			"ID": "20221027014013-nmqhkvu",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-nmqhkvu"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "在默认的OpenShift容器平台安装中，每个pod都有一个惟一的IP地址。pod中的所有容器都对外表现在相同的主机上。给每个pod提供自己的IP地址意味着，在端口分配、网络、DNS、负载平衡、应用程序配置和迁移方面，pod被视为物理主机或虚拟机的独立节点（仅从网络层面看待）。"
				}
			]
		},
		{
			"ID": "20221027014013-f80pj2u",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-f80pj2u"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Kubernetes提供了service的概念，在任何OpenShift应用程序中，service都是必不可少的资源。service充当一个或多个pod前的负载平衡器。该service提供一个固定的IP地址，并且允许与pod通信，而不必跟踪单独的pod IP地址。"
				}
			]
		},
		{
			"ID": "20221027014013-lwf1zmr",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-lwf1zmr"
			},
			"Children": [
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "kubernetes services networking_v1"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "https://img2020.cnblogs.com/blog/680719/202006/680719-20200619125859892-165537077.png"
						},
						{
							"Type": "NodeLinkSpace"
						},
						{
							"Type": "NodeLinkTitle",
							"Data": "kubernetes services networking_v1"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "https://img2020.cnblogs.com/blog/680719/202006/680719-20200619125859718-1573994963.png",
					"TextMarkTextContent": "https://img2020.cnblogs.com/blog/680719/202006/680719-20200619125859718-1573994963.png"
				}
			]
		},
		{
			"ID": "20221027014013-mhq0com",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-mhq0com"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "大多数实际应用程序都不是作为单个pod运行的。它们需要水平伸缩，这样应用程序就可以在许多pod上运行，以满足不断增长的用户需求。在OpenShift集群中，pod不断地在集群中的节点之间创建和销毁。每次创建pod时，它们都会获得一个不同的IP地址。一个service提供一个单独的、惟一的IP地址供其他pod使用，而不依赖于pod运行的节点，因此一个pod不必一定需要发现另一个pod的IP地址。客户端通过service的请求在不同pod之间实现负载均衡。"
				}
			]
		},
		{
			"ID": "20221027014013-7jiqdql",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221027014013-7jiqdql"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "1.3\tKubernetes SDN Service"
				}
			]
		},
		{
			"ID": "20221027014013-yh25eag",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-yh25eag"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "service背后运行的一组pod由OpenShift容器平台自动管理。每个service都被分配了一个唯一的IP地址供客户端连接。这个IP地址也来自OpenShift SDN，它与pod的内部网络不同，也只在集群中可见。每个与selector匹配的pod都作为endpoint添加到service资源中。当创建和销毁pods时，service后面的endpoint将自动更新。"
				}
			]
		},
		{
			"ID": "20221027014013-gyczuew",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-gyczuew"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "service yaml语法："
				}
			]
		},
		{
			"ID": "20221027014013-6kqcztj",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-6kqcztj"
			},
			"Children": [
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "复制代码"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/copycode-20221027014013-g4f277o.gif"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				}
			]
		},
		{
			"ID": "20221027014013-pg8hg5p",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20221027014013-pg8hg5p"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "  1 - apiVersion: v1\n  2   kind: Service\t\t\t#声明资源类型\n  3   metadata:\n  4     labels:\n  5       app: hello-openshift\n  6       name: hello-openshift\t#服务的唯一名称\n  7   spec:\n  8     ports:，\n  9     - name: 8080-tcp\n 10       port: 8080\t\t#服务对外公开的端口客户机连接到服务端口\n 11       protocol: TCP\n 12       targetPort: 8080\t\t#targetPort属性必须匹配pod容器定义中的containerPort，服务将数据包转发到pod中定义的目标端口。\n 13     selector:\t\t\t#该服务使用selector属性查找要转发数据包的pod。目标pod的元数据中需要有匹配的标签。如果服务发现多个具有匹配标签的pod，它将在它们之间实现负载\n 14       app: hello-openshift\n 15       deploymentconfig: hello-openshift\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20221027014013-esco6go",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-esco6go"
			},
			"Children": [
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "复制代码"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/copycode-20221027014013-g4f277o.gif"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				}
			]
		},
		{
			"ID": "20221027014013-nde49me",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221027014013-nde49me"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "1.4\tservice对外暴露"
				}
			]
		},
		{
			"ID": "20221027014013-l7nje07",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-l7nje07"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "默认情况下，pod和service IP地址不能从OpenShift集群外部访问。对于需要从OpenShift集群外部访问服务的应用程序，可以通过以下三种方式。"
				}
			]
		},
		{
			"ID": "20221027014013-mcw87ow",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-mcw87ow"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "HostPort/HostNetwork：在这种方法中，client可以通过主机上的网络端口直接访问集群中的应用程序pod。应用程序pod中的端口被绑定到运行该pod的主机上的端口。这种方法在集群中运行大量pod时，存在端口冲突的风险。"
				}
			]
		},
		{
			"ID": "20221027014013-h7il50n",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-h7il50n"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "NodePort：这是一种较老的基于Kubernetes的方法，通过绑定到node主机上的可用端口，将service公开给外部客户端，然后node主机代理到service IP地址的连接。使用oc edit svc命令编辑服务属性，指定NodePort的类型，并为NodePort属性提供端口值。OpenShift然后通过node主机的公共IP地址和nodePort中设置的端口值代理到服务的连接。这种方法支持非http通信。"
				}
			]
		},
		{
			"ID": "20221027014013-1pyemxy",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-1pyemxy"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "OpenShift routes：OpenShift中的推荐方式。它使用唯一的URL公开服务。使用oc expose命令公开用于外部访问的服务，或者从OpenShift web控制台公开服务。在这种方法中，目前只支持HTTP、HTTPS、TLS whit SNI和WebSockets。"
				}
			]
		},
		{
			"ID": "20221027014013-pia3car",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-pia3car"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "附图：显示了NodePort服务如何允许外部访问Kubernetes服务。"
				}
			]
		},
		{
			"ID": "20221027014013-cvlyia6",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-cvlyia6"
			},
			"Children": [
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "kubernetes nodeport services_v1"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "https://img2020.cnblogs.com/blog/680719/202006/680719-20200619125900188-1760417926.png"
						},
						{
							"Type": "NodeLinkSpace"
						},
						{
							"Type": "NodeLinkTitle",
							"Data": "kubernetes nodeport services_v1"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "https://img2020.cnblogs.com/blog/680719/202006/680719-20200619125900037-1267021887.png",
					"TextMarkTextContent": "https://img2020.cnblogs.com/blog/680719/202006/680719-20200619125900037-1267021887.png"
				}
			]
		},
		{
			"ID": "20221027014013-xttp2wt",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-xttp2wt"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "service nodeport yaml语法："
				}
			]
		},
		{
			"ID": "20221027014013-n6hzy72",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-n6hzy72"
			},
			"Children": [
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "复制代码"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/copycode-20221027014013-g4f277o.gif"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				}
			]
		},
		{
			"ID": "20221027014013-edm1vne",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20221027014013-edm1vne"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "  1 apiVersion: v1\n  2 kind: Service\n  3 metadata:\n  4 ...\n  5 spec:\n  6   ports:\n  7   - name: 3306-tcp\n  8     port: 3306\n  9     protocol: TCP\n 10     targetPort: 3306\t#pod目标端口，即需要和pod定义的端口匹配\n 11     nodePort: 30306\t#OpenShift集群中主机上的端口，暴露给外部客户端\n 12   selector:\n 13     app: mysqldb\n 14     deploymentconfig: mysqldb\n 15     sessionAffinity: None\n 16   type: NodePort\t#服务的类型，如NodePort\n 17 ...\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20221027014013-46fl2j7",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-46fl2j7"
			},
			"Children": [
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "复制代码"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/copycode-20221027014013-g4f277o.gif"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				}
			]
		},
		{
			"ID": "20221027014013-gc241og",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-gc241og"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "OpenShift将服务绑定到服务定义的nodePort属性中定义的值，并为集群中所有node（包括master）上的流量打开该端口。外部客户端可以连接到node端口上的任何节点的公共IP地址来访问服务。请求会在服务后面的各个pod之间实现轮询的负载平衡。"
				}
			]
		},
		{
			"ID": "20221027014013-gkjhkhh",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-gkjhkhh"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "OpenShift route主要限于HTTP和HTTPS流量，但是节点端口可以处理非HTTP流量，当设置好公开的端口后，客户机可以使用TCP或UDP的协议连接到该端口。"
				}
			]
		},
		{
			"ID": "20221027014013-ddsdvh6",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-ddsdvh6"
			},
			"Children": [
				{
					"Type": "NodeTextMark",
					"TextMarkType": "strong",
					"TextMarkTextContent": "提示：缺省情况下，NodePort属性的端口号限制在30000-32767之间，可通过在OpenShift主配置文件中配置范围。"
				}
			]
		},
		{
			"ID": "20221027014013-gb6w8ll",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-gb6w8ll"
			},
			"Children": [
				{
					"Type": "NodeTextMark",
					"TextMarkType": "strong",
					"TextMarkTextContent": "node port在集群中的所有node上都是打开的，包括master节点。如果没有提供node端口值，OpenShift将自动在配置范围内分配一个随机端口"
				},
				{
					"Type": "NodeText",
					"Data": "。"
				}
			]
		},
		{
			"ID": "20221027014013-61jirp7",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221027014013-61jirp7"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "1.5\tpod访问外部网络"
				}
			]
		},
		{
			"ID": "20221027014013-2dhvb1j",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-2dhvb1j"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "pod可以使用其主机的地址与外部网络通信。只要主机能够解析pod需要到达的服务器，pod就可以使用网络地址转换(network address translation, NAT)机制与目标服务器通信。"
				}
			]
		},
		{
			"ID": "20221027014013-biaw0bh",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20221027014013-biaw0bh"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "二\tOpenShift SDN练习"
				}
			]
		},
		{
			"ID": "20221027014013-6z2v79k",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221027014013-6z2v79k"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "2.1\t前置准备"
				}
			]
		},
		{
			"ID": "20221027014013-ppqkvbh",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-ppqkvbh"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation ~]$ lab install-prepare setup"
				}
			]
		},
		{
			"ID": "20221027014013-0409lpo",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-0409lpo"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation ~]$ cd /home/student/do280-ansible"
				}
			]
		},
		{
			"ID": "20221027014013-2hryqok",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-2hryqok"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation do280-ansible]$ ./install.sh"
				}
			]
		},
		{
			"ID": "20221027014013-9r4p0v8",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-9r4p0v8"
			},
			"Children": [
				{
					"Type": "NodeTextMark",
					"TextMarkType": "strong",
					"TextMarkTextContent": "提示：以上准备为部署一个正确的OpenShift平台。"
				}
			]
		},
		{
			"ID": "20221027014013-o595wc8",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221027014013-o595wc8"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "2.2\t本练习准备"
				}
			]
		},
		{
			"ID": "20221027014013-rt9c4ln",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-rt9c4ln"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation ~]$ lab openshift-network setup\t\t#准备本实验环境"
				}
			]
		},
		{
			"ID": "20221027014013-3fagmy9",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221027014013-3fagmy9"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "2.3\t创建应用"
				}
			]
		},
		{
			"ID": "20221027014013-m5618s5",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-m5618s5"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation ~]$ oc login -u developer -p redhat https://master.lab.example.com"
				}
			]
		},
		{
			"ID": "20221027014013-m4vujni",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-m4vujni"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation ~]$ oc new-project network-test\t\t#创建project"
				}
			]
		},
		{
			"ID": "20221027014013-o9oi8vy",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-o9oi8vy"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation ~]$ oc new-app --name=hello -i php:7.0 http://registry.lab.example.com/scaling"
				}
			]
		},
		{
			"ID": "20221027014013-awn750y",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-awn750y"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation ~]$ oc get pods"
				}
			]
		},
		{
			"ID": "20221027014013-53drgxq",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-53drgxq"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "NAME            READY     STATUS    RESTARTS   AGE"
				}
			]
		},
		{
			"ID": "20221027014013-2aoaoem",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-2aoaoem"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "hello-1-build   1/1       Running   0          8s"
				}
			]
		},
		{
			"ID": "20221027014013-5822pxy",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221027014013-5822pxy"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "2.4\t扩展应用"
				}
			]
		},
		{
			"ID": "20221027014013-ksfjm5c",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-ksfjm5c"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation ~]$ oc scale --replicas=2 dc hello"
				}
			]
		},
		{
			"ID": "20221027014013-1qhxpyn",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-1qhxpyn"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation ~]$ oc get pods -o wide"
				}
			]
		},
		{
			"ID": "20221027014013-nifny14",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-nifny14"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "NAME            READY     STATUS    RESTARTS   AGE       IP            NODE"
				}
			]
		},
		{
			"ID": "20221027014013-rkv3hn8",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-rkv3hn8"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "hello-1-kszfh   1/1       Running   0          11m       10.128.0.21   node1.lab.example.com"
				}
			]
		},
		{
			"ID": "20221027014013-y6fpurp",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-y6fpurp"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "hello-1-q7wk2   1/1       Running   0          11m       10.129.0.37   node2.lab.example.com"
				}
			]
		},
		{
			"ID": "20221027014013-ssh8g7m",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221027014013-ssh8g7m"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "2.5\t测试访问"
				}
			]
		},
		{
			"ID": "20221027014013-omy8cdn",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-omy8cdn"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation ~]$ curl http://10.128.0.21:8080"
				}
			]
		},
		{
			"ID": "20221027014013-s00kdq5",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-s00kdq5"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "curl: (7) Failed connect to 10.128.0.21:8080; Network is unreachable"
				}
			]
		},
		{
			"ID": "20221027014013-bwlo63p",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-bwlo63p"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[root@node1 ~]# curl http://10.128.0.21:8080"
				}
			]
		},
		{
			"ID": "20221027014013-p088aos",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-p088aos"
			},
			"Children": [
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "复制代码"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/copycode-20221027014013-g4f277o.gif"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				}
			]
		},
		{
			"ID": "20221027014013-dh8ab5n",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20221027014013-dh8ab5n"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "  1 \u003chtml\u003e\n  2  \u003chead\u003e\n  3   \u003ctitle\u003ePHP Test\u003c/title\u003e\n  4  \u003c/head\u003e\n  5  \u003cbody\u003e\n  6  \u003cbr/\u003e Server IP: 10.128.0.21\n  7  \u003c/body\u003e\n  8 \u003c/html\u003e\n  9 [root@node1 ~]# curl http://10.129.0.37:8080\n 10 \u003chtml\u003e\n 11  \u003chead\u003e\n 12   \u003ctitle\u003ePHP Test\u003c/title\u003e\n 13  \u003c/head\u003e\n 14  \u003cbody\u003e\n 15  \u003cbr/\u003e Server IP: 10.129.0.37\n 16  \u003c/body\u003e\n 17 \u003c/html\u003e\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20221027014013-bxp46jt",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-bxp46jt"
			},
			"Children": [
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "复制代码"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/copycode-20221027014013-g4f277o.gif"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				}
			]
		},
		{
			"ID": "20221027014013-7hdtmtp",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-7hdtmtp"
			},
			"Children": [
				{
					"Type": "NodeTextMark",
					"TextMarkType": "strong",
					"TextMarkTextContent": "提示：默认情况下，pod的ip属于内部，集群内部节点可以使用pod ip访问，集群外部（如workstation）无法访问。"
				}
			]
		},
		{
			"ID": "20221027014013-x3q88gj",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-x3q88gj"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation ~]$ oc get svc hello"
				}
			]
		},
		{
			"ID": "20221027014013-1v7xe16",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-1v7xe16"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "NAME      TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)    AGE"
				}
			]
		},
		{
			"ID": "20221027014013-5tlv2rq",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-5tlv2rq"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "hello     ClusterIP   172.30.253.212   \u003cnone\u003e        8080/TCP   14m"
				}
			]
		},
		{
			"ID": "20221027014013-ao7l29r",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-ao7l29r"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation ~]$ curl http://172.30.253.212:8080"
				}
			]
		},
		{
			"ID": "20221027014013-ocmo5wn",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-ocmo5wn"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "curl: (7) Failed connect to 172.30.253.212:8080; Network is unreachable"
				}
			]
		},
		{
			"ID": "20221027014013-b417g35",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-b417g35"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[root@node1 ~]# curl http://172.30.253.212:8080\t\t#验证负载均衡"
				}
			]
		},
		{
			"ID": "20221027014013-4jmls0c",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-4jmls0c"
			},
			"Children": [
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "复制代码"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/copycode-20221027014013-g4f277o.gif"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				}
			]
		},
		{
			"ID": "20221027014013-rtw81kk",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20221027014013-rtw81kk"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "  1 \u003chtml\u003e\n  2  \u003chead\u003e\n  3   \u003ctitle\u003ePHP Test\u003c/title\u003e\n  4  \u003c/head\u003e\n  5  \u003cbody\u003e\n  6  \u003cbr/\u003e Server IP: 10.128.0.21\n  7  \u003c/body\u003e\n  8 \u003c/html\u003e\n  9 [root@node1 ~]# curl http://172.30.253.212:8080\t\t#验证负载均衡\n 10 \u003chtml\u003e\n 11  \u003chead\u003e\n 12   \u003ctitle\u003ePHP Test\u003c/title\u003e\n 13  \u003c/head\u003e\n 14  \u003cbody\u003e\n 15  \u003cbr/\u003e Server IP: 10.129.0.37\n 16  \u003c/body\u003e\n 17 \u003c/html\u003e\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20221027014013-g3n88jx",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-g3n88jx"
			},
			"Children": [
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "复制代码"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/copycode-20221027014013-g4f277o.gif"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				}
			]
		},
		{
			"ID": "20221027014013-2lkxl0s",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-2lkxl0s"
			},
			"Children": [
				{
					"Type": "NodeTextMark",
					"TextMarkType": "strong",
					"TextMarkTextContent": "提示：默认情况下，cluster的ip属于内部，集群内部节点可以使用cluster ip访问，集群外部（如workstation）无法访问。"
				}
			]
		},
		{
			"ID": "20221027014013-0ltuveo",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221027014013-0ltuveo"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "2.6\t检查服务"
				}
			]
		},
		{
			"ID": "20221027014013-4x1dal1",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-4x1dal1"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation ~]$ oc describe svc hello"
				}
			]
		},
		{
			"ID": "20221027014013-xr2znsz",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-xr2znsz"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Name:              hello"
				}
			]
		},
		{
			"ID": "20221027014013-42zli3j",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-42zli3j"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Namespace:         network-test"
				}
			]
		},
		{
			"ID": "20221027014013-tuv1oc9",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-tuv1oc9"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Labels:            app=hello"
				}
			]
		},
		{
			"ID": "20221027014013-9btmckn",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-9btmckn"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Annotations:       openshift.io/generated-by=OpenShiftNewApp"
				}
			]
		},
		{
			"ID": "20221027014013-h9avcab",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-h9avcab"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Selector:          app=hello,deploymentconfig=hello"
				}
			]
		},
		{
			"ID": "20221027014013-7phtpl5",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-7phtpl5"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Type:              ClusterIP"
				}
			]
		},
		{
			"ID": "20221027014013-q14h1s3",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-q14h1s3"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "IP:                172.30.253.212"
				}
			]
		},
		{
			"ID": "20221027014013-n3q4jzp",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-n3q4jzp"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Port:              8080-tcp  8080/TCP"
				}
			]
		},
		{
			"ID": "20221027014013-lhgiusj",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-lhgiusj"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "TargetPort:        8080/TCP"
				}
			]
		},
		{
			"ID": "20221027014013-oynog0f",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-oynog0f"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Endpoints:         10.128.0.21:8080,10.129.0.37:8080"
				}
			]
		},
		{
			"ID": "20221027014013-udlffhw",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-udlffhw"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Session Affinity:  None"
				}
			]
		},
		{
			"ID": "20221027014013-ea7ft3b",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-ea7ft3b"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Events:            \u003cnone\u003e"
				}
			]
		},
		{
			"ID": "20221027014013-q13nq84",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-q13nq84"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "解释："
				}
			]
		},
		{
			"ID": "20221027014013-pfx3pxz",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-pfx3pxz"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "endpoint：显示请求路由到的pod IP地址列表。当pod有更新后，endpoint将自动更新。"
				}
			]
		},
		{
			"ID": "20221027014013-1emzvjw",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-1emzvjw"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Selector：OpenShift使用为pods定义的选择器和标签来使用给定的集群IP，以便实现应用的负载均衡。如上所示为OpenShift将此服务的请求路由到所有标记为app=hello和deploymentconfig=hello的pod。"
				}
			]
		},
		{
			"ID": "20221027014013-sjdt7h0",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221027014013-sjdt7h0"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "2.7\t检查pod"
				}
			]
		},
		{
			"ID": "20221027014013-3ujs3ll",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-3ujs3ll"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation ~]$ oc describe pod hello-1-kszfh"
				}
			]
		},
		{
			"ID": "20221027014013-yblh2qp",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221027014013-yblh2qp"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "2.8\t设置外部访问"
				}
			]
		},
		{
			"ID": "20221027014013-j6o8e52",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-j6o8e52"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "使用NodePort方式设置外部访问。"
				}
			]
		},
		{
			"ID": "20221027014013-pfr9gtk",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-pfr9gtk"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation ~]$ oc edit svc hello"
				}
			]
		},
		{
			"ID": "20221027014013-fh70xoa",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-fh70xoa"
			},
			"Children": [
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "复制代码"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/copycode-20221027014013-g4f277o.gif"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				}
			]
		},
		{
			"ID": "20221027014013-yrqdv2s",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20221027014013-yrqdv2s"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "  1 apiVersion: v1\n  2 kind: Service\n  3 metadata:\n  4   annotations:\n  5     openshift.io/generated-by: OpenShiftNewApp\n  6   creationTimestamp: 2019-07-19T15:50:09Z\n  7   labels:\n  8     app: hello\n  9   name: hello\n 10   namespace: network-test\n 11   resourceVersion: \"24496\"\n 12   selfLink: /api/v1/namespaces/network-test/services/hello\n 13   uid: e348e2a3-aa3c-11e9-b230-52540000fa0a\n 14 spec:\n 15   clusterIP: 172.30.253.212\n 16   ports:\n 17   - name: 8080-tcp\n 18     port: 8080\n 19     protocol: TCP\n 20     targetPort: 8080\n 21     nodePort: 30800\n 22   selector:\n 23     app: hello\n 24     deploymentconfig: hello\n 25   sessionAffinity: None\n 26   type: NodePort\n 27 status:\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20221027014013-72n2j1z",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-72n2j1z"
			},
			"Children": [
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "复制代码"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/copycode-20221027014013-g4f277o.gif"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				}
			]
		},
		{
			"ID": "20221027014013-egroldf",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-egroldf"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation ~]$ oc describe svc hello"
				}
			]
		},
		{
			"ID": "20221027014013-ldcbhsr",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-ldcbhsr"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Name:                     hello"
				}
			]
		},
		{
			"ID": "20221027014013-e3qp8v4",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-e3qp8v4"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Namespace:                network-test"
				}
			]
		},
		{
			"ID": "20221027014013-nziswpw",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-nziswpw"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Labels:                   app=hello"
				}
			]
		},
		{
			"ID": "20221027014013-cacjn0h",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-cacjn0h"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Annotations:              openshift.io/generated-by=OpenShiftNewApp"
				}
			]
		},
		{
			"ID": "20221027014013-3pk38fp",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-3pk38fp"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Selector:                 app=hello,deploymentconfig=hello"
				}
			]
		},
		{
			"ID": "20221027014013-q4187i4",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-q4187i4"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Type:                     NodePort\t\t#验证是否为NodePort"
				}
			]
		},
		{
			"ID": "20221027014013-3ysr0la",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-3ysr0la"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "IP:                       172.30.253.212"
				}
			]
		},
		{
			"ID": "20221027014013-bqj28kl",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-bqj28kl"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Port:                     8080-tcp  8080/TCP"
				}
			]
		},
		{
			"ID": "20221027014013-jfdyabk",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-jfdyabk"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "TargetPort:               8080/TCP"
				}
			]
		},
		{
			"ID": "20221027014013-9nf8gfl",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-9nf8gfl"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "NodePort:                 8080-tcp  30800/TCP"
				}
			]
		},
		{
			"ID": "20221027014013-rnepz25",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-rnepz25"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Endpoints:                10.128.0.21:8080,10.129.0.37:8080"
				}
			]
		},
		{
			"ID": "20221027014013-ssv84mw",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-ssv84mw"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Session Affinity:         None"
				}
			]
		},
		{
			"ID": "20221027014013-1hc0ktp",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-1hc0ktp"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "External Traffic Policy:  Cluster"
				}
			]
		},
		{
			"ID": "20221027014013-8qyr4ys",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-8qyr4ys"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Events:                   \u003cnone\u003e"
				}
			]
		},
		{
			"ID": "20221027014013-x437fve",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221027014013-x437fve"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "2.9\t验证外部访问"
				}
			]
		},
		{
			"ID": "20221027014013-3ju9kyi",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-3ju9kyi"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation ~]$ curl http://node1.lab.example.com:30800"
				}
			]
		},
		{
			"ID": "20221027014013-wwrg5p9",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-wwrg5p9"
			},
			"Children": [
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "复制代码"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/copycode-20221027014013-g4f277o.gif"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				}
			]
		},
		{
			"ID": "20221027014013-i258vvt",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20221027014013-i258vvt"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "  1 \u003chtml\u003e\n  2  \u003chead\u003e\n  3   \u003ctitle\u003ePHP Test\u003c/title\u003e\n  4  \u003c/head\u003e\n  5  \u003cbody\u003e\n  6  \u003cbr/\u003e Server IP: 10.128.0.21\n  7  \u003c/body\u003e\n  8 \u003c/html\u003e\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20221027014013-8ueao6o",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-8ueao6o"
			},
			"Children": [
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "复制代码"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/copycode-20221027014013-g4f277o.gif"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				}
			]
		},
		{
			"ID": "20221027014013-twpn373",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-twpn373"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation ~]$ curl http://node2.lab.example.com:30800"
				}
			]
		},
		{
			"ID": "20221027014013-gdf8nu9",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-gdf8nu9"
			},
			"Children": [
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "复制代码"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/copycode-20221027014013-g4f277o.gif"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				}
			]
		},
		{
			"ID": "20221027014013-dmmobar",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20221027014013-dmmobar"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "  1 \u003chtml\u003e\n  2  \u003chead\u003e\n  3   \u003ctitle\u003ePHP Test\u003c/title\u003e\n  4  \u003c/head\u003e\n  5  \u003cbody\u003e\n  6  \u003cbr/\u003e Server IP: 10.129.0.37\n  7  \u003c/body\u003e\n  8 \u003c/html\u003e\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20221027014013-3pwl6vu",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-3pwl6vu"
			},
			"Children": [
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "复制代码"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/copycode-20221027014013-g4f277o.gif"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				}
			]
		},
		{
			"ID": "20221027014013-diux5of",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221027014013-diux5of"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "2.10\t使用pod shell"
				}
			]
		},
		{
			"ID": "20221027014013-kopp479",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-kopp479"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation ~]$ oc rsh hello-1-kszfh \t\t#使用pod的shell"
				}
			]
		},
		{
			"ID": "20221027014013-0ddaup3",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-0ddaup3"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "sh-4.2$ curl http://services.lab.example.com"
				}
			]
		},
		{
			"ID": "20221027014013-vzoa4js",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20221027014013-vzoa4js"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "三\tOpenShift router"
				}
			]
		},
		{
			"ID": "20221027014013-lwt8o2z",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221027014013-lwt8o2z"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "3.1\tOpenShift route概述"
				}
			]
		},
		{
			"ID": "20221027014013-5qk64fi",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-5qk64fi"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "OpenShift service允许在OpenShift中的pod之间进行网络访问；"
				}
			]
		},
		{
			"ID": "20221027014013-gwwb8ch",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-gwwb8ch"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "OpenShift routes允许从OpenShift外部对pods进行网络访问。"
				}
			]
		},
		{
			"ID": "20221027014013-tqqhmtv",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-tqqhmtv"
			},
			"Children": [
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "openshift routes_v1"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "https://img2020.cnblogs.com/blog/680719/202006/680719-20200619125900545-967780287.png"
						},
						{
							"Type": "NodeLinkSpace"
						},
						{
							"Type": "NodeLinkTitle",
							"Data": "openshift routes_v1"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "https://img2020.cnblogs.com/blog/680719/202006/680719-20200619125900376-1808540184.png",
					"TextMarkTextContent": "https://img2020.cnblogs.com/blog/680719/202006/680719-20200619125900376-1808540184.png"
				}
			]
		},
		{
			"ID": "20221027014013-01xqedg",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-01xqedg"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "路由概念上是通过连接公网IP和DNS主机名访问内网service IP。在实践中，为了提高性能和减少延迟，OpenShift route通过OpenShift创建的网络直接连接到pod，使用该服务只查找endpoint，service只是协助查询Pod地址。"
				}
			]
		},
		{
			"ID": "20221027014013-kvaablo",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-kvaablo"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "OpenShift 路由功能由router service提供，该服务在OpenShift实例中作为一个pod运行，可以像任何其他常规pod一样伸缩和复制。router service基于开源软件HAProxy实现。"
				}
			]
		},
		{
			"ID": "20221027014013-ee2t2l4",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-ee2t2l4"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "OpenShift route配置的公共DNS主机名需要指向运行router的节点的公共IP地址。route pod与常规应用程序pod不同，它绑定到节点的公共IP地址，而不是内部pod网络。这通常使用DNS通配符配置。"
				}
			]
		},
		{
			"ID": "20221027014013-2c2g54e",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-2c2g54e"
			},
			"Children": [
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "复制代码"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/copycode-20221027014013-g4f277o.gif"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				}
			]
		},
		{
			"ID": "20221027014013-zeu3twq",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20221027014013-zeu3twq"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "  1 - apiVersion: v1\n  2   kind: Route\t\t\t\t#声明为route类型\n  3   metadata:\n  4     creationTimestamp: null\n  5     labels:\n  6       app: quoteapp\n  7     name: quoteapp\t\t\t\t#路由器名字\n  8   spec:\n  9     host: quoteapp.apps.lab.example.com\t#与route关联的FQDN，必须预先配置，以解析到OpenShift route pod运行的节点的IP地址\n 10     port:\n 11       targetPort: 8080-tcp\n 12   to:\t\t\t\t\t#一个对象，该对象声明此route指向的资源类型(在本例中是OpenShift service)，以及该资源的名称(quoteapp)\n 13     kind: Service\n 14     name: quoteapp\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20221027014013-s7khoeq",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-s7khoeq"
			},
			"Children": [
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "复制代码"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/copycode-20221027014013-g4f277o.gif"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				}
			]
		},
		{
			"ID": "20221027014013-0vj5osh",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-0vj5osh"
			},
			"Children": [
				{
					"Type": "NodeTextMark",
					"TextMarkType": "strong",
					"TextMarkTextContent": "提示：不同资源类型可以使用相同的名称，如一个名为quoteapp的route可以指向一个名为quoteapp的service。"
				}
			]
		},
		{
			"ID": "20221027014013-k64z4kw",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-k64z4kw"
			},
			"Children": [
				{
					"Type": "NodeTextMark",
					"TextMarkType": "strong",
					"TextMarkTextContent": "service通过selector与pod的label进行匹配，router通过name与service的name匹配。"
				}
			]
		},
		{
			"ID": "20221027014013-thsfu50",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221027014013-thsfu50"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "3.2\t创建route"
				}
			]
		},
		{
			"ID": "20221027014013-0xew3se",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-0xew3se"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "创建route最简单和推荐的方法是使用oc expose命令，将service资源名称作为输入参数。--name选项可用于控制route资源的名称，--hostname选项可用于为route提供自定义主机名。"
				}
			]
		},
		{
			"ID": "20221027014013-psq6bt8",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-psq6bt8"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "示例："
				}
			]
		},
		{
			"ID": "20221027014013-x6d13zz",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-x6d13zz"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[user@demo ~]$ oc expose service quote \\"
				}
			]
		},
		{
			"ID": "20221027014013-q3qh0ah",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-q3qh0ah"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "--name quote --hostname=quoteapp.apps.lab.example.com"
				}
			]
		},
		{
			"ID": "20221027014013-e2kc0gu",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-e2kc0gu"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "从模板或不带--hostname参数的oc expose命令创建的路由，命名方式为："
				}
			]
		},
		{
			"ID": "20221027014013-apw8bnw",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-apw8bnw"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "\u003croute-name\u003e-\u003cproject-name\u003e.\u003cdefault-domain\u003e"
				}
			]
		},
		{
			"ID": "20221027014013-n4gcngr",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-n4gcngr"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "解释"
				}
			]
		},
		{
			"ID": "20221027014013-ytds8f8",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-ytds8f8"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "route-name：route的名称，或原始资源的名称；"
				}
			]
		},
		{
			"ID": "20221027014013-8owk9xo",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-8owk9xo"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "project-name：包含资源的项目的名称；"
				}
			]
		},
		{
			"ID": "20221027014013-nybyi0c",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-nybyi0c"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "default-domain：该值是在OpenShift master上配置的，它对应于作为安装OpenShift先决条件列出的通配符DNS域。"
				}
			]
		},
		{
			"ID": "20221027014013-br88kqp",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-br88kqp"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "例如，在OpenShift集群中名为test的project中创建一条名为quote的路由，其中子域为apps.example.com，则FQDN为quote-test.apps.example.com"
				}
			]
		},
		{
			"ID": "20221027014013-hfa6a0q",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-hfa6a0q"
			},
			"Children": [
				{
					"Type": "NodeTextMark",
					"TextMarkType": "strong",
					"TextMarkTextContent": "注意：承载通配符域的DNS服务器不知道任何route的主机名，它只将任何名称解析为已配置的ip。只有OpenShift route知道route主机名，将每个主机都当作HTTP虚拟主机。无效的通配符域主机名，即不与任何route对应的主机名，将被OpenShift路由器阻塞。"
				}
			]
		},
		{
			"ID": "20221027014013-5dijgas",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-5dijgas"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "通过向oc create提供JSON或YAML资源定义文件，也可以像其他OpenShift资源一样创建route资源。"
				}
			]
		},
		{
			"ID": "20221027014013-pqv4bct",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-pqv4bct"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "oc new-app命令在从容器映像、Dockerfiles或应用程序源代码构建pod时不创建route资源。"
				}
			]
		},
		{
			"ID": "20221027014013-hu38id0",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-hu38id0"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "oc new-app命令不知道pod是否打算从OpenShift实例外部访问。当oc new-app命令从模板创建一组pod时，没有什么可以阻止模板将路由资源包含到应用程序中。"
				}
			]
		},
		{
			"ID": "20221027014013-9q23jr4",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221027014013-9q23jr4"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "3.3\t查找默认subdomain"
				}
			]
		},
		{
			"ID": "20221027014013-qgsiq62",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-qgsiq62"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "默认路由子域是在OpenShift配置文件master-config.yaml中的routingConfig字段中定义，使用关键字subdomain。"
				}
			]
		},
		{
			"ID": "20221027014013-06d0r3o",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-06d0r3o"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "routingConfig:"
				}
			]
		},
		{
			"ID": "20221027014013-vawxeud",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-vawxeud"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "  subdomain: apps.example.com"
				}
			]
		},
		{
			"ID": "20221027014013-ucdxan0",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-ucdxan0"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "默认情况下，OpenShift HAProxy route绑定到主机端口80 (HTTP)和443 (HTTPS)。route必须放置在这些端口不使用的节点上。或者，可以通过设置ROUTER_SERVICE_HTTP_PORT和ROUTER_SERVICE_HTTPS_PORT环境变量来配置路由器监听其他端口."
				}
			]
		},
		{
			"ID": "20221027014013-nqdvt02",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-nqdvt02"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "路由器支持以下协议："
				}
			]
		},
		{
			"ID": "20221027014013-3qiqlqy",
			"Type": "NodeList",
			"ListData": {},
			"Properties": {
				"id": "20221027014013-3qiqlqy"
			},
			"Children": [
				{
					"ID": "20221027014013-ds78q4e",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"id": "20221027014013-ds78q4e"
					},
					"Children": [
						{
							"ID": "20221027014013-l2a9ccc",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221027014013-l2a9ccc"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "HTTP"
								}
							]
						}
					]
				},
				{
					"ID": "20221027014013-c2eiuqr",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"id": "20221027014013-c2eiuqr"
					},
					"Children": [
						{
							"ID": "20221027014013-tu27a21",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221027014013-tu27a21"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "HTTPS with SNI"
								}
							]
						}
					]
				},
				{
					"ID": "20221027014013-efqx8oz",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"id": "20221027014013-efqx8oz"
					},
					"Children": [
						{
							"ID": "20221027014013-qol3j8o",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221027014013-qol3j8o"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "WebSockets"
								}
							]
						}
					]
				},
				{
					"ID": "20221027014013-mjb2ykz",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"id": "20221027014013-mjb2ykz"
					},
					"Children": [
						{
							"ID": "20221027014013-x72cjja",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221027014013-x72cjja"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "TLS with SNI"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20221027014013-l9wyipf",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221027014013-l9wyipf"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "3.4\trouting类型和选项"
				}
			]
		},
		{
			"ID": "20221027014013-lc2n6tx",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-lc2n6tx"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "路由可以是安全的，也可以是非安全的。安全route提供了使用几种类型的TLS方式来向客户端提供证书的能力。不安全路由是最容易配置的，因为它们不需要密钥或证书，但是安全路由会加密进出pod的流量。"
				}
			]
		},
		{
			"ID": "20221027014013-ovb3389",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-ovb3389"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "在创建安全路由之前，需要生成TLS证书。"
				}
			]
		},
		{
			"ID": "20221027014013-4dhgwn5",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-4dhgwn5"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "示例：如下步骤创建名为test.example.com的路由创建一个简单的自签名证书。"
				}
			]
		},
		{
			"ID": "20221027014013-gcmf9o4",
			"Type": "NodeList",
			"ListData": {},
			"Properties": {
				"id": "20221027014013-gcmf9o4"
			},
			"Children": [
				{
					"ID": "20221027014013-i89an9a",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"id": "20221027014013-i89an9a"
					},
					"Children": [
						{
							"ID": "20221027014013-6ja91ft",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221027014013-6ja91ft"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "使用openssl命令创建私钥："
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20221027014013-79p07l7",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-79p07l7"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[user@demo ~]$ openssl genrsa -out example.key 2048"
				}
			]
		},
		{
			"ID": "20221027014013-uy8n79v",
			"Type": "NodeList",
			"ListData": {},
			"Properties": {
				"id": "20221027014013-uy8n79v"
			},
			"Children": [
				{
					"ID": "20221027014013-rsygg1m",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"id": "20221027014013-rsygg1m"
					},
					"Children": [
						{
							"ID": "20221027014013-x0exudi",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221027014013-x0exudi"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "使用生成的私钥创建证书签名请求(CSR)："
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20221027014013-mkhvytb",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-mkhvytb"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[user@demo ~]$ openssl req -new -key example.key -out example.csr -subj \"/C=US/ST=CA/L=Los Angeles/O=Example/OU=IT/CN=test.example.com\""
				}
			]
		},
		{
			"ID": "20221027014013-opf9dz1",
			"Type": "NodeList",
			"ListData": {},
			"Properties": {
				"id": "20221027014013-opf9dz1"
			},
			"Children": [
				{
					"ID": "20221027014013-16gr883",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"id": "20221027014013-16gr883"
					},
					"Children": [
						{
							"ID": "20221027014013-dw5863l",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221027014013-dw5863l"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "使用密钥和CSR生成证书"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20221027014013-x162lyk",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-x162lyk"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[user@demo ~]$ openssl x509 -req -days 366 -in example.csr -signkey example.key -out example.crt"
				}
			]
		},
		{
			"ID": "20221027014013-pvn7vhv",
			"Type": "NodeList",
			"ListData": {},
			"Properties": {
				"id": "20221027014013-pvn7vhv"
			},
			"Children": [
				{
					"ID": "20221027014013-psp0217",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"id": "20221027014013-psp0217"
					},
					"Children": [
						{
							"ID": "20221027014013-gfznqjl",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221027014013-gfznqjl"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "当证书准备好时，创建一个edge-terminated的路由"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20221027014013-s4hcve5",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-s4hcve5"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[user@demo ~]$ oc create route edge --service=test \\"
				}
			]
		},
		{
			"ID": "20221027014013-ojd0bg5",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-ojd0bg5"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "--hostname=test.example.com \\"
				}
			]
		},
		{
			"ID": "20221027014013-s9n7glr",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-s9n7glr"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "--key=example.key --cert=example.crt"
				}
			]
		},
		{
			"ID": "20221027014013-qsxhulp",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221027014013-qsxhulp"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "3.5\t通配符子域"
				}
			]
		},
		{
			"ID": "20221027014013-hx53ske",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-hx53ske"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "wildcard policy允许用户定义domain中所有主机的route。route可以使用wildcardPolicy字段将wildcard policy指定为其配置的一部分。OpenShift路由器支持通配符路由，通过设置路由器部署配置中的ROUTER_ALLOW_WILDCARD_ROUTES环境变量为true，从而可将wildcardPolicy属性设置为子域的任何route都由路由器提供服务。路由器根据route的通配符策略暴露相关的service。"
				}
			]
		},
		{
			"ID": "20221027014013-f85bd6c",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-f85bd6c"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "示例：如下下示例表示对于三个不同的路由，a.lab.example.com、b.lab.example.com和c.lab.example.com，它们应该路由到一个名为test的OpenShift服务，可以使用通配符策略配置路由。"
				}
			]
		},
		{
			"ID": "20221027014013-q5j2qhy",
			"Type": "NodeList",
			"ListData": {},
			"Properties": {
				"id": "20221027014013-q5j2qhy"
			},
			"Children": [
				{
					"ID": "20221027014013-arel78t",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"id": "20221027014013-arel78t"
					},
					"Children": [
						{
							"ID": "20221027014013-3daksuh",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221027014013-3daksuh"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "将路由器作为集群管理用户处理通配符路由"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20221027014013-kab3m86",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-kab3m86"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[user@demo ~]$ oc scale dc/router --replicas=0"
				}
			]
		},
		{
			"ID": "20221027014013-05nxxa6",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-05nxxa6"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[user@demo ~]$ oc set env dc/router ROUTER_ALLOW_WILDCARD_ROUTES=true"
				}
			]
		},
		{
			"ID": "20221027014013-vnw4vqm",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-vnw4vqm"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[user@demo ~]$ oc scale dc/router --replicas=1"
				}
			]
		},
		{
			"ID": "20221027014013-x49d66h",
			"Type": "NodeList",
			"ListData": {},
			"Properties": {
				"id": "20221027014013-x49d66h"
			},
			"Children": [
				{
					"ID": "20221027014013-5kmvzlm",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"id": "20221027014013-5kmvzlm"
					},
					"Children": [
						{
							"ID": "20221027014013-zctkivh",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221027014013-zctkivh"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "使用通配符策略创建新路由"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20221027014013-yz0tagq",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-yz0tagq"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[user@demo ~]$ oc expose svc test --wildcard-policy=Subdomain \\"
				}
			]
		},
		{
			"ID": "20221027014013-u4skh6g",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-u4skh6g"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "--hostname='www.lab.example.com'"
				}
			]
		},
		{
			"ID": "20221027014013-l4zmil1",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221027014013-l4zmil1"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "3.6\t管理route"
				}
			]
		},
		{
			"ID": "20221027014013-0pmqpcv",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-0pmqpcv"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "在master节点上，在default中查找router"
				}
			]
		},
		{
			"ID": "20221027014013-wroawe8",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-wroawe8"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[root@master]# oc project default"
				}
			]
		},
		{
			"ID": "20221027014013-qw4epej",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-qw4epej"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[root@master]# oc get pods"
				}
			]
		},
		{
			"ID": "20221027014013-78sf4ds",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-78sf4ds"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "在master节点上，检查路由器环境变量，以找到运行在pod中的HAProxy进程的连接参数"
				}
			]
		},
		{
			"ID": "20221027014013-effaxll",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-effaxll"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[root@master]# oc env pod router-1-32toa --list | tail -n 6"
				}
			]
		},
		{
			"ID": "20221027014013-dtscip4",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-dtscip4"
			},
			"Children": [
				{
					"Type": "NodeTextMark",
					"TextMarkType": "strong",
					"TextMarkTextContent": "提示：当创建路由器时，STATS_PASSWORD变量中的密码是随机生成的。STATS_USERNAME和STATS_PORT变量有固定的默认值，但是它们都可以在路由器创建时更改。"
				}
			]
		},
		{
			"ID": "20221027014013-nbhzixx",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-nbhzixx"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "在router运行的节点上，配置firewall-cmd以打开STATS_PORT变量指定的端口。"
				}
			]
		},
		{
			"ID": "20221027014013-sl3y2xv",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-sl3y2xv"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[root@node ~]# firewall-cmd --permanent --zone=public --add-port=1936"
				}
			]
		},
		{
			"ID": "20221027014013-p9abc8h",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-p9abc8h"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[root@node ~]# firewall-cmd --reload"
				}
			]
		},
		{
			"ID": "20221027014013-gpw1fg1",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-gpw1fg1"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "打开web浏览器并访问HAProxy statistics URL 为 http://nodeIP:STATS_PORT/。"
				}
			]
		},
		{
			"ID": "20221027014013-t95nic2",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-t95nic2"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "在User Name字段中输入STATS_USERNAME的值，在Password字段中输入STATS_PASSWORD的值，然后单击OK。则会显示的HAProxy metrics页面。"
				}
			]
		},
		{
			"ID": "20221027014013-wsywdh1",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20221027014013-wsywdh1"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "四\t创建Route练习"
				}
			]
		},
		{
			"ID": "20221027014013-2nj1u8s",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221027014013-2nj1u8s"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "4.1\t前置准备"
				}
			]
		},
		{
			"ID": "20221027014013-67mn6qo",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-67mn6qo"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "准备完整的OpenShift集群，参考《003.OpenShift网络》2.1。"
				}
			]
		},
		{
			"ID": "20221027014013-3ojxncb",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221027014013-3ojxncb"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "4.2\t本练习准备"
				}
			]
		},
		{
			"ID": "20221027014013-xy8j1v1",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-xy8j1v1"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation ~]$ lab secure-route setup\t\t\t#准备本实验环境"
				}
			]
		},
		{
			"ID": "20221027014013-r0ont45",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221027014013-r0ont45"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "4.3\t创建应用"
				}
			]
		},
		{
			"ID": "20221027014013-6zc3o5s",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-6zc3o5s"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation ~]$ oc login -u developer -p redhat https://master.lab.example.com"
				}
			]
		},
		{
			"ID": "20221027014013-yl9e164",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-yl9e164"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation ~]$ oc new-project secure-route\t\t#创建project"
				}
			]
		},
		{
			"ID": "20221027014013-zx3rd2i",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-zx3rd2i"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation ~]$ oc new-app --docker-image=registry.lab.example.com/openshift/hello-openshift --name=hello"
				}
			]
		},
		{
			"ID": "20221027014013-t8j2npr",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-t8j2npr"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation ~]$ oc get pods -o wide"
				}
			]
		},
		{
			"ID": "20221027014013-dcrr18x",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-dcrr18x"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "NAME            READY     STATUS    RESTARTS   AGE       IP            NODE"
				}
			]
		},
		{
			"ID": "20221027014013-wwheln6",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-wwheln6"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "hello-1-wwgkr   1/1       Running   0          20s       10.129.0.38   node2.lab.example.com"
				}
			]
		},
		{
			"ID": "20221027014013-lnq3pno",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221027014013-lnq3pno"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "4.4\t创建TLS证书"
				}
			]
		},
		{
			"ID": "20221027014013-gp8vvl9",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-gp8vvl9"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation ~]$ cd /home/student/DO280/labs/secure-route/\t#使用环境中的脚本快速创建TLS自签名证书"
				}
			]
		},
		{
			"ID": "20221027014013-s37ax3p",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-s37ax3p"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation secure-route]$ ./create-cert.sh"
				}
			]
		},
		{
			"ID": "20221027014013-gfrlrrr",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221027014013-gfrlrrr"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "4.5\t创建route"
				}
			]
		},
		{
			"ID": "20221027014013-r8jl0vb",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-r8jl0vb"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation secure-route]$ ll"
				}
			]
		},
		{
			"ID": "20221027014013-pyfmfqz",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-pyfmfqz"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "-rw-r--r--. 1 student student  550 Aug  7  2018 commands.txt"
				}
			]
		},
		{
			"ID": "20221027014013-pr4yw7l",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-pr4yw7l"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "-rwxr-xr-x. 1 student student  506 Jul 19  2018 create-cert.sh"
				}
			]
		},
		{
			"ID": "20221027014013-ozj3d90",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-ozj3d90"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "-rw-rw-r--. 1 student student 1224 Jul 20 10:43 hello.apps.lab.example.com.crt"
				}
			]
		},
		{
			"ID": "20221027014013-h6cmkw2",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-h6cmkw2"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "-rw-rw-r--. 1 student student 1017 Jul 20 10:43 hello.apps.lab.example.com.csr"
				}
			]
		},
		{
			"ID": "20221027014013-3chmnr0",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-3chmnr0"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "-rw-rw-r--. 1 student student 1679 Jul 20 10:43 hello.apps.lab.example.com.key"
				}
			]
		},
		{
			"ID": "20221027014013-svnkjbv",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-svnkjbv"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation secure-route]$ oc create route edge \\"
				}
			]
		},
		{
			"ID": "20221027014013-7nz066w",
			"Type": "NodeBlockquote",
			"Properties": {
				"id": "20221027014013-7nz066w"
			},
			"Children": [
				{
					"Type": "NodeBlockquoteMarker",
					"Data": "\u003e"
				},
				{
					"ID": "20221027014013-mqbdloc",
					"Type": "NodeParagraph",
					"Properties": {
						"id": "20221027014013-mqbdloc"
					},
					"Children": [
						{
							"Type": "NodeText",
							"Data": "--service=hello --hostname=hello.apps.lab.example.com \\"
						}
					]
				}
			]
		},
		{
			"ID": "20221027014013-khezs49",
			"Type": "NodeBlockquote",
			"Properties": {
				"id": "20221027014013-khezs49"
			},
			"Children": [
				{
					"Type": "NodeBlockquoteMarker",
					"Data": "\u003e"
				},
				{
					"ID": "20221027014013-x375f4a",
					"Type": "NodeParagraph",
					"Properties": {
						"id": "20221027014013-x375f4a"
					},
					"Children": [
						{
							"Type": "NodeText",
							"Data": "--key=hello.apps.lab.example.com.key \\"
						}
					]
				}
			]
		},
		{
			"ID": "20221027014013-7fz9de5",
			"Type": "NodeBlockquote",
			"Properties": {
				"id": "20221027014013-7fz9de5"
			},
			"Children": [
				{
					"Type": "NodeBlockquoteMarker",
					"Data": "\u003e"
				},
				{
					"ID": "20221027014013-1ubw7us",
					"Type": "NodeParagraph",
					"Properties": {
						"id": "20221027014013-1ubw7us"
					},
					"Children": [
						{
							"Type": "NodeText",
							"Data": "--cert=hello.apps.lab.example.com.crt"
						}
					]
				}
			]
		},
		{
			"ID": "20221027014013-a5yqsmu",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221027014013-a5yqsmu"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "4.6\t确认验证"
				}
			]
		},
		{
			"ID": "20221027014013-r8ll6a3",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-r8ll6a3"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation secure-route]$ oc get route"
				}
			]
		},
		{
			"ID": "20221027014013-gxyf39o",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-gxyf39o"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "NAME      HOST/PORT                    PATH      SERVICES   PORT       TERMINATION   WILDCARD"
				}
			]
		},
		{
			"ID": "20221027014013-0axdgs5",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-0axdgs5"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "hello     hello.apps.lab.example.com             hello      8080-tcp   edge          None"
				}
			]
		},
		{
			"ID": "20221027014013-7r1w840",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-7r1w840"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation secure-route]$ oc get route hello -o yaml\t#以yaml格式查看route"
				}
			]
		},
		{
			"ID": "20221027014013-g4qgte4",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221027014013-g4qgte4"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "4.7\t测试访问"
				}
			]
		},
		{
			"ID": "20221027014013-qukavnr",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-qukavnr"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation ~]$ curl http://hello.apps.lab.example.com\t#以http形式访问会无法转发至后端任何pod"
				}
			]
		},
		{
			"ID": "20221027014013-9g75quh",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20221027014013-9g75quh"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "  1 ……\n  2       \u003ch1\u003eApplication is not available\u003c/h1\u003e\n  3       \u003cp\u003eThe application is currently not serving requests at this endpoint. It may not have been started or is still starting.\u003c/p\u003e\n  4 ……\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20221027014013-3sgmjgj",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-3sgmjgj"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation ~]$ curl -k -vvv https://hello.apps.lab.example.com\t#以https形式访问"
				}
			]
		},
		{
			"ID": "20221027014013-dx5096y",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20221027014013-dx5096y"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "  1 ……\n  2 Hello OpenShift!\n  3 * Connection #0 to host hello.apps.lab.example.com left intact\n  4 ……\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20221027014013-0dy36ah",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221027014013-0dy36ah"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "4.8\t非安全形式访问"
				}
			]
		},
		{
			"ID": "20221027014013-r4viijl",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-r4viijl"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "由于加密的通信在路由器上终止，并且请求使用不安全的HTTP转发到pods，所以可以使用pod IP地址通过普通HTTP访问应用程序。为此，请使用oc get pods -o命令中指定的IP地址。"
				}
			]
		},
		{
			"ID": "20221027014013-7mp6898",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-7mp6898"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation secure-route]$ oc get pod -o wide"
				}
			]
		},
		{
			"ID": "20221027014013-v2kqu86",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-v2kqu86"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "NAME            READY     STATUS    RESTARTS   AGE       IP            NODE"
				}
			]
		},
		{
			"ID": "20221027014013-o8hywyy",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-o8hywyy"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "hello-1-wwgkr   1/1       Running   0          21m       10.129.0.38   node2.lab.example.com"
				}
			]
		},
		{
			"ID": "20221027014013-z3ectfk",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-z3ectfk"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[root@node1 ~]# curl -vvv http://10.129.0.38:8080"
				}
			]
		},
		{
			"ID": "20221027014013-84kjtha",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-84kjtha"
			},
			"Children": [
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "clipboard"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "https://img2020.cnblogs.com/blog/680719/202006/680719-20200619125900836-698053662.png"
						},
						{
							"Type": "NodeLinkSpace"
						},
						{
							"Type": "NodeLinkTitle",
							"Data": "clipboard"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "https://img2020.cnblogs.com/blog/680719/202006/680719-20200619125900695-1192881886.png",
					"TextMarkTextContent": "https://img2020.cnblogs.com/blog/680719/202006/680719-20200619125900695-1192881886.png"
				}
			]
		},
		{
			"ID": "20221027014013-7f5e5k5",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20221027014013-7f5e5k5"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "五\tOpenShift网络综合实验"
				}
			]
		},
		{
			"ID": "20221027014013-hqd6dwl",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221027014013-hqd6dwl"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "5.1\t前置准备"
				}
			]
		},
		{
			"ID": "20221027014013-hv5gibt",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-hv5gibt"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "准备完整的OpenShift集群，参考《003.OpenShift网络》2.1。"
				}
			]
		},
		{
			"ID": "20221027014013-6i76bk6",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221027014013-6i76bk6"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "5.2\t本练习准备"
				}
			]
		},
		{
			"ID": "20221027014013-xv8kk15",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-xv8kk15"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation ~]$ lab network-review setup"
				}
			]
		},
		{
			"ID": "20221027014013-gdnf38c",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221027014013-gdnf38c"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "5.3\t验证所需资源"
				}
			]
		},
		{
			"ID": "20221027014013-u25ux8g",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-u25ux8g"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation ~]$ oc login -u developer -p redhat \\"
				}
			]
		},
		{
			"ID": "20221027014013-w67dlwg",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-w67dlwg"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "https://master.lab.example.com"
				}
			]
		},
		{
			"ID": "20221027014013-4hflt66",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-4hflt66"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation ~]$ oc get pod -o wide"
				}
			]
		},
		{
			"ID": "20221027014013-c83a8yx",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-c83a8yx"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "NAME                      READY     STATUS    RESTARTS   AGE       IP            NODE"
				}
			]
		},
		{
			"ID": "20221027014013-lcbwruq",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-lcbwruq"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "hello-openshift-1-6ls8z   1/1       Running   0          2m        10.128.0.23   node1.lab.example.com"
				}
			]
		},
		{
			"ID": "20221027014013-lkv3nnn",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-lkv3nnn"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation ~]$ oc get svc"
				}
			]
		},
		{
			"ID": "20221027014013-1d4ryvl",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-1d4ryvl"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "NAME              TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)             AGE"
				}
			]
		},
		{
			"ID": "20221027014013-6z8vcuw",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-6z8vcuw"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "hello-openshift   ClusterIP   172.30.124.237   \u003cnone\u003e        8080/TCP,8888/TCP   2m"
				}
			]
		},
		{
			"ID": "20221027014013-bei7zl9",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-bei7zl9"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation ~]$ oc get route"
				}
			]
		},
		{
			"ID": "20221027014013-v156f9b",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-v156f9b"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "NAME              HOST/PORT                    PATH      SERVICES         PORT       TERMINATION   WILDCARD"
				}
			]
		},
		{
			"ID": "20221027014013-l0mbo3u",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-l0mbo3u"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "hello-openshift   hello.apps.lab.example.com             hello-opensift   8080-tcp                 None"
				}
			]
		},
		{
			"ID": "20221027014013-pxcogwf",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221027014013-pxcogwf"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "5.4\t测试访问"
				}
			]
		},
		{
			"ID": "20221027014013-gaxawq8",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-gaxawq8"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation ~]$ curl http://hello.apps.lab.example.com\t\t\t#测试http访问"
				}
			]
		},
		{
			"ID": "20221027014013-95b2x16",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20221027014013-95b2x16"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "  1 ……\n  2       \u003ch1\u003eApplication is not available\u003c/h1\u003e\n  3       \u003cp\u003eThe application is currently not serving requests at this endpoint. It may not have been started or is still starting.\u003c/p\u003e\n  4 ……\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20221027014013-howhho8",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-howhho8"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[root@node1 ~]# curl http://10.128.0.23:8080\t\t#测试使用pod ip访问"
				}
			]
		},
		{
			"ID": "20221027014013-1kuhe4s",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-1kuhe4s"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Hello OpenShift!"
				}
			]
		},
		{
			"ID": "20221027014013-cyrpptp",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-cyrpptp"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[root@node1 ~]# curl http://172.30.124.237:8080\t\t#测试使用cluster ip访问"
				}
			]
		},
		{
			"ID": "20221027014013-5v8mich",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-5v8mich"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "curl: (7) Failed connect to 172.30.124.237:8080; Connection refused"
				}
			]
		},
		{
			"ID": "20221027014013-j70cwwz",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221027014013-j70cwwz"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "5.5\tTS cluster故障"
				}
			]
		},
		{
			"ID": "20221027014013-ftap4i8",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-ftap4i8"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation ~]$ oc describe svc hello-openshift -n network-review"
				}
			]
		},
		{
			"ID": "20221027014013-6iqhvt6",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-6iqhvt6"
			},
			"Children": [
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "clipboard"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "https://img2020.cnblogs.com/blog/680719/202006/680719-20200619125901198-143020573.png"
						},
						{
							"Type": "NodeLinkSpace"
						},
						{
							"Type": "NodeLinkTitle",
							"Data": "clipboard"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "https://img2020.cnblogs.com/blog/680719/202006/680719-20200619125901040-1452373600.png",
					"TextMarkTextContent": "https://img2020.cnblogs.com/blog/680719/202006/680719-20200619125901040-1452373600.png"
				}
			]
		},
		{
			"ID": "20221027014013-737n9yf",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-737n9yf"
			},
			"Children": [
				{
					"Type": "NodeTextMark",
					"TextMarkType": "strong",
					"TextMarkTextContent": "提示：由上可知，没有endpoint，endpoint是使用selector对pod的label进行匹配。"
				}
			]
		},
		{
			"ID": "20221027014013-pkr7hz2",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-pkr7hz2"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation ~]$ oc describe pod hello-openshift-1-6ls8z\t#查看pod详情"
				}
			]
		},
		{
			"ID": "20221027014013-ztwwykd",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-ztwwykd"
			},
			"Children": [
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "clipboard"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "https://img2020.cnblogs.com/blog/680719/202006/680719-20200619125901683-1910345715.png"
						},
						{
							"Type": "NodeLinkSpace"
						},
						{
							"Type": "NodeLinkTitle",
							"Data": "clipboard"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "https://img2020.cnblogs.com/blog/680719/202006/680719-20200619125901434-136424614.png",
					"TextMarkTextContent": "https://img2020.cnblogs.com/blog/680719/202006/680719-20200619125901434-136424614.png"
				}
			]
		},
		{
			"ID": "20221027014013-goc4ljg",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-goc4ljg"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "故障点：由上可知，Selector的label不一致，则没有标记为hello_openshift的pod能进行匹配。"
				}
			]
		},
		{
			"ID": "20221027014013-rx85oml",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-rx85oml"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation ~]$ oc edit svc hello-openshift"
				}
			]
		},
		{
			"ID": "20221027014013-bxe8wov",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-bxe8wov"
			},
			"Children": [
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "复制代码"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/copycode-20221027014013-g4f277o.gif"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				}
			]
		},
		{
			"ID": "20221027014013-9p62goq",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20221027014013-9p62goq"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "  1 ……\n  2   selector:\n  3     app: hello-openshift\n  4     deploymentconfig: hello-openshift\n  5   sessionAffinity: None\n  6 ……\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20221027014013-tncxkts",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-tncxkts"
			},
			"Children": [
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "复制代码"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/copycode-20221027014013-g4f277o.gif"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				}
			]
		},
		{
			"ID": "20221027014013-u58lom7",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221027014013-u58lom7"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "5.6\t测试访问"
				}
			]
		},
		{
			"ID": "20221027014013-wy6ljxa",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-wy6ljxa"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[root@node1 ~]# curl http://10.128.0.23:8080\t\t#测试使用pod ip访问"
				}
			]
		},
		{
			"ID": "20221027014013-t77zfv0",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-t77zfv0"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Hello OpenShift!"
				}
			]
		},
		{
			"ID": "20221027014013-p62ignp",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-p62ignp"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[root@node1 ~]# curl http://172.30.124.237:8080\t\t#再次测试"
				}
			]
		},
		{
			"ID": "20221027014013-u7b0ck5",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-u7b0ck5"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Hello OpenShift!"
				}
			]
		},
		{
			"ID": "20221027014013-c4momy3",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-c4momy3"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation ~]$ curl http://hello.apps.lab.example.com\t\t\t#测试http访问"
				}
			]
		},
		{
			"ID": "20221027014013-lip3pk7",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20221027014013-lip3pk7"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "  1 ……\n  2       \u003ch1\u003eApplication is not available\u003c/h1\u003e\n  3       \u003cp\u003eThe application is currently not serving requests at this endpoint. It may not have been started or is still starting.\u003c/p\u003e\n  4 ……\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20221027014013-garluh3",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221027014013-garluh3"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "5.7\tTS route故障"
				}
			]
		},
		{
			"ID": "20221027014013-9pk0yu0",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-9pk0yu0"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation ~]$ oc describe route hello-openshift"
				}
			]
		},
		{
			"ID": "20221027014013-qhgikb1",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-qhgikb1"
			},
			"Children": [
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "clipboard"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "https://img2020.cnblogs.com/blog/680719/202006/680719-20200619125902055-1461093671.png"
						},
						{
							"Type": "NodeLinkSpace"
						},
						{
							"Type": "NodeLinkTitle",
							"Data": "clipboard"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "https://img2020.cnblogs.com/blog/680719/202006/680719-20200619125901882-543551278.png",
					"TextMarkTextContent": "https://img2020.cnblogs.com/blog/680719/202006/680719-20200619125901882-543551278.png"
				}
			]
		},
		{
			"ID": "20221027014013-trdwoq7",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-trdwoq7"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "故障点：由上可知，此路由没有endpoint。即对route的URL请求没有后端endpoint进行响应。路由器查询service的endpoint，并注册有效的endpoint来实现负载平衡。同时发现service名称中有一个拼写错误，它应该是hello-openshift。"
				}
			]
		},
		{
			"ID": "20221027014013-rkr8xsl",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-rkr8xsl"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation ~]$ oc edit route hello-openshift"
				}
			]
		},
		{
			"ID": "20221027014013-6rugbay",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-6rugbay"
			},
			"Children": [
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "复制代码"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/copycode-20221027014013-g4f277o.gif"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				}
			]
		},
		{
			"ID": "20221027014013-csani40",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20221027014013-csani40"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "  1 ……\n  2 spec:\n  3   host: hello.apps.lab.example.com\n  4   port:\n  5     targetPort: 8080-tcp\n  6   to:\n  7     kind: Service\n  8     name: hello-openshift\n  9     weight: 100\n 10   wildcardPolicy: None\n 11 ……\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20221027014013-eafofu5",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-eafofu5"
			},
			"Children": [
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "复制代码"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/copycode-20221027014013-g4f277o.gif"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				}
			]
		},
		{
			"ID": "20221027014013-adoy47q",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-adoy47q"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[root@node1 ~]# curl http://hello.apps.lab.example.com\t#再次测试"
				}
			]
		},
		{
			"ID": "20221027014013-zvb5li8",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-zvb5li8"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Hello OpenShift!"
				}
			]
		},
		{
			"ID": "20221027014013-t4zp8mq",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221027014013-t4zp8mq"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "5.8\t确认验证"
				}
			]
		},
		{
			"ID": "20221027014013-r8dldso",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221027014013-r8dldso"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[student@workstation ~]$ lab network-review grade\t#使用脚本判断"
				}
			]
		}
	]
}